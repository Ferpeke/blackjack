const miModulo=(()=>{"use strict";let e=[],l=["C","D","H","S"],t=["A","J","Q","K"],a=[],r=document.querySelector("#btnPedirCarta"),d=document.querySelector("#btnDetener"),s=document.querySelector("#btnNuevoJuego"),i=document.querySelectorAll(".divCartas"),n=document.querySelectorAll("small");r.disabled=!0,d.disabled=!0;let o=(l=2)=>{e=$(),a=[];for(let t=0;t<l;t++)a.push(0);n.forEach(e=>e.innerText=0),i.forEach(e=>e.innerHTML=""),d.disabled=!1,r.disabled=!1,s.disabled=!0},$=()=>{e=[];for(let a=2;a<=10;a++)for(let r of l)e.push(a+r);for(let d of l)for(let s of t)e.push(s+d);return _.shuffle(e)},c=()=>{let l="",t=0,a=e.length+1;if(t=Math.floor(Math.random()*(a-0)+0),0===e.length)throw"No hay m\xe1s cartas en el deck";for(let r=0;r<=e.length;r++)if(t==r){l=e[r],e.splice(r,1);break}return l},b=e=>{let l=e.substring(0,e.length-1);return isNaN(l)?"A"===l?11:10:parseInt(l)},u=(e,l)=>(a[l]=a[l]+b(e),n[l].innerText=a[l],a[l]),f=(e,l)=>{let t=document.createElement("img");t.src=`assets/cartas/${e}.png`,t.classList.add("carta"),i[l].append(t)},h=()=>{let[e,l]=a;setTimeout(()=>{l===e?alert("Nadie gana :|"):e>21?alert("\xa1Computadora Gana!"):l>e&&l<=21?alert("\xa1Computadora Gana!"):alert("\xa1Genial, ganaste!")},200)},g=e=>{let l=0;do{let t=c();if(l=u(t,a.length-1),f(t,a.length-1),e>21||21===l)break}while(l<=e&&e<=21);s.disabled=!1,h()};return r.addEventListener("click",()=>{let e=c(),l=u(e,0);s.disabled=!0,f(e,0),l>21?(s.disabled=!1,r.disabled=!0,d.disabled=!0,g(l)):21===l&&(r.disabled=!0,d.disabled=!0,g(l))}),d.addEventListener("click",()=>{r.disabled=!0,d.disabled=!0,g(a[0])}),s.addEventListener("click",()=>{r.disabled=!0,d.disabled=!0,console.clear(),o()}),{nuevoJuego:o}})();